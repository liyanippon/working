<?xml version="1.0" encoding="UTF-8"?>
  <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="me.gacl.mapping.userMapper">
  
  <!-- mybatis语法
  		http://blog.csdn.net/zenson_g/article/details/10137665
   -->
 
     <!-- 查询数据 -->
     <!--选择全部列-->
  	<sql id="Base_Column_List">
    	id, username, password, address, email, description, sex, phone, age, 
    	zhusername
  	</sql>
  
     <select id="getPerson" parameterType="int" 
         resultType="model.Person">
         select * from users where id=#{id}
     </select>
     
     <!-- 添加数据 -->
     <insert id="addPerson" parameterType="model.Person">  
        insert into users(name,age) values(#{name},#{age})
    </insert>  
      
    <!-- 删除用户(Remove) -->  
    <delete id="deletePerson" parameterType="int">  
        delete from users where id=#{id}  
    </delete>  
      
    <!-- 修改用户(Update) -->  
    <update id="updatePerson" parameterType="model.Person">  
        update users set name=#{name},age=#{age} where id=#{id}  
    </update>  
      
    <!-- 查询全部用户-->  
    <select id="getAllPerson" resultType="model.Person">  
        select * from users  
    </select>  
    
    <select id="getAllPerson1" parameterType="model.Person" 
         resultType="model.Person">
         SELECT 
         	<include refid="Base_Column_List" />
         	
         FROM users   
             
         <where>
         	<if test="username!=null and username!='' ">     
        		username=#{username}
    		</if>
    		<if test="age!=null and age!='' ">     
        		AND age=#{age}
    		</if>        
         </where>     
            
         	
         
     </select>
  </mapper>